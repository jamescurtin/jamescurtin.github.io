!function(a){a.fn.touchwipe=function(b){var c={min_move_x:20,min_move_y:20,wipeLeft:function(){},wipeRight:function(){},wipeUp:function(){},wipeDown:function(){},preventDefaultEvents:!0};return b&&a.extend(c,b),this.each(function(){function e(){this.removeEventListener("touchmove",f),a=null,d=!1}function f(f){if(c.preventDefaultEvents&&f.preventDefault(),d){var g=f.touches[0].pageX,h=f.touches[0].pageY,i=a-g,j=b-h;Math.abs(i)>=c.min_move_x?(e(),i>0?c.wipeLeft():c.wipeRight()):Math.abs(j)>=c.min_move_y&&(e(),j>0?c.wipeDown():c.wipeUp())}}function g(c){1==c.touches.length&&(a=c.touches[0].pageX,b=c.touches[0].pageY,d=!0,this.addEventListener("touchmove",f,!1))}var a,b,d=!1;"ontouchstart"in document.documentElement&&this.addEventListener("touchstart",g,!1)}),this}}(jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function i(b){var c=b||window.event,g=d.call(arguments,1),h=0,i=0,l=0,m=0;if(b=a.event.fix(c),b.type="mousewheel","detail"in c&&(l=c.detail*-1),"wheelDelta"in c&&(l=c.wheelDelta),"wheelDeltaY"in c&&(l=c.wheelDeltaY),"wheelDeltaX"in c&&(i=c.wheelDeltaX*-1),"axis"in c&&c.axis===c.HORIZONTAL_AXIS&&(i=l*-1,l=0),h=0===l?i:l,"deltaY"in c&&(l=c.deltaY*-1,h=l),"deltaX"in c&&(i=c.deltaX,0===l&&(h=i*-1)),0!==l||0!==i){if(1===c.deltaMode){var n=a.data(this,"mousewheel-line-height");h*=n,l*=n,i*=n}else if(2===c.deltaMode){var o=a.data(this,"mousewheel-page-height");h*=o,l*=o,i*=o}return m=Math.max(Math.abs(l),Math.abs(i)),(!f||m<f)&&(f=m,k(c,m)&&(f/=40)),k(c,m)&&(h/=40,i/=40,l/=40),h=Math[h>=1?"floor":"ceil"](h/f),i=Math[i>=1?"floor":"ceil"](i/f),l=Math[l>=1?"floor":"ceil"](l/f),b.deltaX=i,b.deltaY=l,b.deltaFactor=f,b.deltaMode=0,g.unshift(b,h,i,l),e&&clearTimeout(e),e=setTimeout(j,200),(a.event.dispatch||a.event.handle).apply(this,g)}}function j(){f=null}function k(a,b){return h.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,f,b=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],c="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],d=Array.prototype.slice;if(a.event.fixHooks)for(var g=b.length;g;)a.event.fixHooks[b[--g]]=a.event.mouseHooks;var h=a.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var b=c.length;b;)this.addEventListener(c[--b],i,!1);else this.onmousewheel=i;a.data(this,"mousewheel-line-height",h.getLineHeight(this)),a.data(this,"mousewheel-page-height",h.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var a=c.length;a;)this.removeEventListener(c[--a],i,!1);else this.onmousewheel=null},getLineHeight:function(b){return parseInt(a(b)["offsetParent"in a.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}),function(a,b){a.fn.imagesLoaded=function(a){function g(){a.call(c,d)}function h(a){--e<=0&&a.target.src!==f&&(setTimeout(g),d.unbind("load error",h))}var c=this,d=c.find("img").add(c.filter("img")),e=d.length,f="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";return e||g(),d.bind("load error",h).each(function(){if(this.complete||this.complete===b){var a=this.src;this.src=f,this.src=a}}),c}}(jQuery),function(a,b,c,d){function l(b,c){this.element=b,this.options=a.extend(!0,{},g,c),this.options.share=c.share,this._defaults=g,this._name=f,this.init()}var f="sharrre",g={className:"sharrre",share:{googlePlus:!1,facebook:!1,twitter:!1,digg:!1,delicious:!1,stumbleupon:!1,linkedin:!1,pinterest:!1},shareTotal:0,template:"",title:"",url:c.location.href,text:c.title,urlCurl:"sharrre.php",count:{},total:0,shorterTotal:!0,enableHover:!0,enableCounter:!0,enableTracking:!1,hover:function(){},hide:function(){},click:function(){},render:function(){},buttons:{googlePlus:{url:"",urlCount:!1,size:"medium",lang:"en-US",annotation:""},facebook:{url:"",urlCount:!1,action:"like",layout:"button_count",width:"",send:"false",faces:"false",colorscheme:"",font:"",lang:"en_US"},twitter:{url:"",urlCount:!1,count:"horizontal",hashtags:"",via:"",related:"",lang:"en"},digg:{url:"",urlCount:!1,type:"DiggCompact"},delicious:{url:"",urlCount:!1,size:"medium"},stumbleupon:{url:"",urlCount:!1,layout:"1"},linkedin:{url:"",urlCount:!1,counter:""},pinterest:{url:"",media:"",description:"",layout:"horizontal"}}},h={googlePlus:"",facebook:"https://graph.facebook.com/fql?q=SELECT%20url,%20normalized_url,%20share_count,%20like_count,%20comment_count,%20total_count,commentsbox_count,%20comments_fbid,%20click_count%20FROM%20link_stat%20WHERE%20url=%27{url}%27&callback=?",twitter:"http://cdn.api.twitter.com/1/urls/count.json?url={url}&callback=?",digg:"http://services.digg.com/2.0/story.getInfo?links={url}&type=javascript&callback=?",delicious:"http://feeds.delicious.com/v2/json/urlinfo/data?url={url}&callback=?",stumbleupon:"",linkedin:"http://www.linkedin.com/countserv/count/share?format=jsonp&url={url}&callback=?",pinterest:""},i={googlePlus:function(d){var e=d.options.buttons.googlePlus;a(d.element).find(".buttons").append('<div class="button googleplus"><div class="g-plusone" data-size="'+e.size+'" data-href="'+(""!==e.url?e.url:d.options.url)+'" data-annotation="'+e.annotation+'"></div></div>'),b.___gcfg={lang:d.options.buttons.googlePlus.lang};var f=0;"undefined"==typeof gapi&&0==f?(f=1,function(){var a=c.createElement("script");a.type="text/javascript",a.async=!0,a.src="//apis.google.com/js/plusone.js";var b=c.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}()):gapi.plusone.go()},facebook:function(b){var d=b.options.buttons.facebook;a(b.element).find(".buttons").append('<div class="button facebook"><div id="fb-root"></div><div class="fb-like" data-href="'+(""!==d.url?d.url:b.options.url)+'" data-send="'+d.send+'" data-layout="'+d.layout+'" data-width="'+d.width+'" data-show-faces="'+d.faces+'" data-action="'+d.action+'" data-colorscheme="'+d.colorscheme+'" data-font="'+d.font+'" data-via="'+d.via+'"></div></div>');var e=0;"undefined"==typeof FB&&0==e?(e=1,function(a,b,c){var e,f=a.getElementsByTagName(b)[0];a.getElementById(c)||(e=a.createElement(b),e.id=c,e.src="//connect.facebook.net/"+d.lang+"/all.js#xfbml=1",f.parentNode.insertBefore(e,f))}(c,"script","facebook-jssdk")):FB.XFBML.parse()},twitter:function(b){var d=b.options.buttons.twitter;a(b.element).find(".buttons").append('<div class="button twitter"><a href="https://twitter.com/share" class="twitter-share-button" data-url="'+(""!==d.url?d.url:b.options.url)+'" data-count="'+d.count+'" data-text="'+b.options.text+'" data-via="'+d.via+'" data-hashtags="'+d.hashtags+'" data-related="'+d.related+'" data-lang="'+d.lang+'">Tweet</a></div>');var e=0;"undefined"==typeof twttr&&0==e?(e=1,function(){var a=c.createElement("script");a.type="text/javascript",a.async=!0,a.src="//platform.twitter.com/widgets.js";var b=c.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}()):a.ajax({url:"//platform.twitter.com/widgets.js",dataType:"script",cache:!0})},digg:function(b){var d=b.options.buttons.digg;a(b.element).find(".buttons").append('<div class="button digg"><a class="DiggThisButton '+d.type+'" rel="nofollow external" href="http://digg.com/submit?url='+encodeURIComponent(""!==d.url?d.url:b.options.url)+'"></a></div>');var e=0;"undefined"==typeof __DBW&&0==e&&(e=1,function(){var a=c.createElement("SCRIPT"),b=c.getElementsByTagName("SCRIPT")[0];a.type="text/javascript",a.async=!0,a.src="//widgets.digg.com/buttons.js",b.parentNode.insertBefore(a,b)}())},delicious:function(b){if("tall"==b.options.buttons.delicious.size)var c="width:50px;",d="height:35px;width:50px;font-size:15px;line-height:35px;",e="height:18px;line-height:18px;margin-top:3px;";else var c="width:93px;",d="float:right;padding:0 3px;height:20px;width:26px;line-height:20px;",e="float:left;height:20px;line-height:20px;";var f=b.shorterTotal(b.options.count.delicious);"undefined"==typeof f&&(f=0),a(b.element).find(".buttons").append('<div class="button delicious"><div style="'+c+'font:12px Arial,Helvetica,sans-serif;cursor:pointer;color:#666666;display:inline-block;float:none;height:20px;line-height:normal;margin:0;padding:0;text-indent:0;vertical-align:baseline;"><div style="'+d+'background-color:#fff;margin-bottom:5px;overflow:hidden;text-align:center;border:1px solid #ccc;border-radius:3px;">'+f+'</div><div style="'+e+'display:block;padding:0;text-align:center;text-decoration:none;width:50px;background-color:#7EACEE;border:1px solid #40679C;border-radius:3px;color:#fff;"><img src="http://www.delicious.com/static/img/delicious.small.gif" height="10" width="10" alt="Delicious" /> Add</div></div></div>'),a(b.element).find(".delicious").on("click",function(){b.openPopup("delicious")})},stumbleupon:function(d){var e=d.options.buttons.stumbleupon;a(d.element).find(".buttons").append('<div class="button stumbleupon"><su:badge layout="'+e.layout+'" location="'+(""!==e.url?e.url:d.options.url)+'"></su:badge></div>');var f=0;"undefined"==typeof STMBLPN&&0==f?(f=1,function(){var a=c.createElement("script");a.type="text/javascript",a.async=!0,a.src="//platform.stumbleupon.com/1/widgets.js";var b=c.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}(),s=b.setTimeout(function(){"undefined"!=typeof STMBLPN&&(STMBLPN.processWidgets(),clearInterval(s))},500)):STMBLPN.processWidgets()},linkedin:function(d){var e=d.options.buttons.linkedin;a(d.element).find(".buttons").append('<div class="button linkedin"><script type="in/share" data-url="'+(""!==e.url?e.url:d.options.url)+'" data-counter="'+e.counter+'"></script></div>');var f=0;"undefined"==typeof b.IN&&0==f?(f=1,function(){var a=c.createElement("script");a.type="text/javascript",a.async=!0,a.src="//platform.linkedin.com/in.js";var b=c.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}()):b.IN.init()},pinterest:function(b){var d=b.options.buttons.pinterest;a(b.element).find(".buttons").append('<div class="button pinterest"><a href="http://pinterest.com/pin/create/button/?url='+(""!==d.url?d.url:b.options.url)+"&media="+d.media+"&description="+d.description+'" class="pin-it-button" count-layout="'+d.layout+'">Pin It</a></div>'),function(){var a=c.createElement("script");a.type="text/javascript",a.async=!0,a.src="//assets.pinterest.com/js/pinit.js";var b=c.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}()}},j={googlePlus:function(){},facebook:function(){fb=b.setInterval(function(){"undefined"!=typeof FB&&(FB.Event.subscribe("edge.create",function(a){_gaq.push(["_trackSocial","facebook","like",a])}),FB.Event.subscribe("edge.remove",function(a){_gaq.push(["_trackSocial","facebook","unlike",a])}),FB.Event.subscribe("message.send",function(a){_gaq.push(["_trackSocial","facebook","send",a])}),clearInterval(fb))},1e3)},twitter:function(){tw=b.setInterval(function(){"undefined"!=typeof twttr&&(twttr.events.bind("tweet",function(a){a&&_gaq.push(["_trackSocial","twitter","tweet"])}),clearInterval(tw))},1e3)},digg:function(){},delicious:function(){},stumbleupon:function(){},linkedin:function(){},pinterest:function(){}},k={googlePlus:function(a){b.open("https://plus.google.com/share?hl="+a.buttons.googlePlus.lang+"&url="+encodeURIComponent(""!==a.buttons.googlePlus.url?a.buttons.googlePlus.url:a.url),"","toolbar=0, status=0, width=900, height=500")},facebook:function(a){b.open("http://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(""!==a.buttons.facebook.url?a.buttons.facebook.url:a.url)+"&t="+a.text,"","toolbar=0, status=0, width=900, height=500")},twitter:function(a){b.open("https://twitter.com/intent/tweet?text="+encodeURIComponent(a.text)+"&url="+encodeURIComponent(""!==a.buttons.twitter.url?a.buttons.twitter.url:a.url)+(""!==a.buttons.twitter.via?"&via="+a.buttons.twitter.via:""),"","toolbar=0, status=0, width=650, height=360")},digg:function(a){b.open("http://digg.com/tools/diggthis/submit?url="+encodeURIComponent(""!==a.buttons.digg.url?a.buttons.digg.url:a.url)+"&title="+a.text+"&related=true&style=true","","toolbar=0, status=0, width=650, height=360")},delicious:function(a){b.open("http://www.delicious.com/save?v=5&noui&jump=close&url="+encodeURIComponent(""!==a.buttons.delicious.url?a.buttons.delicious.url:a.url)+"&title="+a.text,"delicious","toolbar=no,width=550,height=550")},stumbleupon:function(a){b.open("http://www.stumbleupon.com/badge/?url="+encodeURIComponent(""!==a.buttons.delicious.url?a.buttons.delicious.url:a.url),"stumbleupon","toolbar=no,width=550,height=550")},linkedin:function(a){b.open("https://www.linkedin.com/cws/share?url="+encodeURIComponent(""!==a.buttons.delicious.url?a.buttons.delicious.url:a.url)+"&token=&isFramed=true","linkedin","toolbar=no,width=550,height=550")},pinterest:function(a){b.open("http://pinterest.com/pin/create/button/?url="+encodeURIComponent(""!==a.buttons.pinterest.url?a.buttons.pinterest.url:a.url)+"&media="+encodeURIComponent(a.buttons.pinterest.media)+"&description="+a.buttons.pinterest.description,"pinterest","toolbar=no,width=700,height=300")}};l.prototype.init=function(){var b=this;""!==this.options.urlCurl&&(h.googlePlus=this.options.urlCurl+"?url={url}&type=googlePlus",h.stumbleupon=this.options.urlCurl+"?url={url}&type=stumbleupon",h.pinterest=this.options.urlCurl+"?url={url}&type=pinterest"),a(this.element).addClass(this.options.className),"undefined"!=typeof a(this.element).data("title")&&(this.options.title=a(this.element).attr("data-title")),"undefined"!=typeof a(this.element).data("url")&&(this.options.url=a(this.element).data("url")),"undefined"!=typeof a(this.element).data("text")&&(this.options.text=a(this.element).data("text")),a.each(this.options.share,function(a,c){c===!0&&b.options.shareTotal++}),b.options.enableCounter===!0?a.each(this.options.share,function(a,c){if(c===!0)try{b.getSocialJson(a)}catch(a){}}):""!==b.options.template?this.options.render(this,this.options):this.loadButtons(),a(this.element).hover(function(){0===a(this).find(".buttons").length&&b.options.enableHover===!0&&b.loadButtons(),b.options.hover(b,b.options)},function(){b.options.hide(b,b.options)}),a(this.element).click(function(){return b.options.click(b,b.options),!1})},l.prototype.loadButtons=function(){var b=this;a(this.element).append('<div class="buttons"></div>'),a.each(b.options.share,function(a,c){1==c&&(i[a](b),b.options.enableTracking===!0&&j[a]())})},l.prototype.getSocialJson=function(b){var c=this,d=0,e=h[b].replace("{url}",encodeURIComponent(this.options.url));this.options.buttons[b].urlCount===!0&&""!==this.options.buttons[b].url&&(e=h[b].replace("{url}",this.options.buttons[b].url)),""!=e&&""!==c.options.urlCurl?a.getJSON(e,function(a){if("undefined"!=typeof a.count){var e=a.count+"";e=e.replace("Â ",""),d+=parseInt(e,10)}else a.data&&a.data.length>0&&"undefined"!=typeof a.data[0].total_count?d+=parseInt(a.data[0].total_count,10):"undefined"!=typeof a.shares?d+=parseInt(a.shares,10):"undefined"!=typeof a[0]?d+=parseInt(a[0].total_posts,10):"undefined"!=typeof a[0];c.options.count[b]=d,c.options.total+=d,c.renderer(),c.rendererPerso()}).error(function(){c.options.count[b]=0,c.rendererPerso()}):(c.renderer(),c.options.count[b]=0,c.rendererPerso())},l.prototype.rendererPerso=function(){var a=0;for(e in this.options.count)a++;a===this.options.shareTotal&&this.options.render(this,this.options)},l.prototype.renderer=function(){var b=this.options.total,c=this.options.template;this.options.shorterTotal===!0&&(b=this.shorterTotal(b)),""!==c?(c=c.replace("{total}",b),a(this.element).html(c)):a(this.element).html('<div class="box"><a class="count" href="#">'+b+"</a>"+(""!==this.options.title?'<a class="share" href="#">'+this.options.title+"</a>":"")+"</div>")},l.prototype.shorterTotal=function(a){return a>=1e6?a=(a/1e6).toFixed(2)+"M":a>=1e3&&(a=(a/1e3).toFixed(1)+"k"),a},l.prototype.openPopup=function(a){if(k[a](this.options),this.options.enableTracking===!0){var b={googlePlus:{site:"Google",action:"+1"},facebook:{site:"facebook",action:"like"},twitter:{site:"twitter",action:"tweet"},digg:{site:"digg",action:"add"},delicious:{site:"delicious",action:"add"},stumbleupon:{site:"stumbleupon",action:"add"},linkedin:{site:"linkedin",action:"share"},pinterest:{site:"pinterest",action:"pin"}};_gaq.push(["_trackSocial",b[a].site,b[a].action])}},l.prototype.simulateClick=function(){var b=a(this.element).html();a(this.element).html(b.replace(this.options.total,this.options.total+1))},l.prototype.update=function(a,b){""!==a&&(this.options.url=a),""!==b&&(this.options.text=b)},a.fn[f]=function(b){var c=arguments;return b===d||"object"==typeof b?this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new l(this,b))}):"string"==typeof b&&"_"!==b[0]&&"init"!==b?this.each(function(){var d=a.data(this,"plugin_"+f);d instanceof l&&"function"==typeof d[b]&&d[b].apply(d,Array.prototype.slice.call(c,1))}):void 0}}(jQuery,window,document),function(a){function c(a){return"object"==typeof a?a:{top:a,left:a}}var b=a.scrollTo=function(b,c,d){a(window).scrollTo(b,c,d)};b.defaults={axis:"xy",duration:parseFloat(a.fn.jquery)>=1.3?0:1,limit:!0},b.window=function(b){return a(window)._scrollable()},a.fn._scrollable=function(){return this.map(function(){var b=this,c=!b.nodeName||a.inArray(b.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!c)return b;var d=(b.contentWindow||b).document||b.ownerDocument||b;return/webkit/i.test(navigator.userAgent)||"BackCompat"==d.compatMode?d.body:d.documentElement})},a.fn.scrollTo=function(d,e,f){return"object"==typeof e&&(f=e,e=0),"function"==typeof f&&(f={onAfter:f}),"max"==d&&(d=9e9),f=a.extend({},b.defaults,f),e=e||f.duration,f.queue=f.queue&&f.axis.length>1,f.queue&&(e/=2),f.offset=c(f.offset),f.over=c(f.over),this._scrollable().each(function(){function m(a){h.animate(k,e,f.easing,a&&function(){a.call(this,d,f)})}if(null!=d){var j,g=this,h=a(g),i=d,k={},l=h.is("html,body");switch(typeof i){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(i)){i=c(i);break}if(i=a(i,this),!i.length)return;case"object":(i.is||i.style)&&(j=(i=a(i)).offset())}a.each(f.axis.split(""),function(a,c){var d="x"==c?"Left":"Top",e=d.toLowerCase(),n="scroll"+d,o=g[n],p=b.max(g,c);if(j)k[n]=j[e]+(l?0:o-h.offset()[e]),f.margin&&(k[n]-=parseInt(i.css("margin"+d))||0,k[n]-=parseInt(i.css("border"+d+"Width"))||0),k[n]+=f.offset[e]||0,f.over[e]&&(k[n]+=i["x"==c?"width":"height"]()*f.over[e]);else{var q=i[e];k[n]=q.slice&&"%"==q.slice(-1)?parseFloat(q)/100*p:q}f.limit&&/^\d+$/.test(k[n])&&(k[n]=k[n]<=0?0:Math.min(k[n],p)),!a&&f.queue&&(o!=k[n]&&m(f.onAfterFirst),delete k[n])}),m(f.onAfter)}}).end()},b.max=function(b,c){var d="x"==c?"Width":"Height",e="scroll"+d;if(!a(b).is("html,body"))return b[e]-a(b)[d.toLowerCase()]();var f="client"+d,g=b.ownerDocument.documentElement,h=b.ownerDocument.body;return Math.max(g[e],h[e])-Math.min(g[f],h[f])}}(jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return 0==b?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return 0==b?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*(2*Math.PI)/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin((b*e-f)*(2*Math.PI)/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(2==(b/=e/2))return c+d;if(g||(g=e*(.3*1.5)),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return b<1?-.5*(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*(2*Math.PI)/g))+c:h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-f)*(2*Math.PI)/g)*.5+d+c},easeInBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),(b/=e/2)<1?d/2*(b*b*(((f*=1.525)+1)*b-f))+c:d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?d*(7.5625*b*b)+c:b<2/2.75?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:b<2.5/2.75?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(a,b,c,d,e){return b<e/2?.5*jQuery.easing.easeInBounce(a,2*b,0,d,e)+c:.5*jQuery.easing.easeOutBounce(a,2*b-e,0,d,e)+.5*d+c}}),function(a){function b(){var a=location.href;return hashtag=a.indexOf("#prettyPhoto")!==-1&&decodeURI(a.substring(a.indexOf("#prettyPhoto")+1,a.length)),hashtag}function c(){"undefined"!=typeof theRel&&(location.hash=theRel+"/"+rel_index+"/")}function d(){location.href.indexOf("#prettyPhoto")!==-1&&(location.hash="prettyPhoto")}function e(a,b){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c="[\\?&]"+a+"=([^&#]*)",d=new RegExp(c),e=d.exec(b);return null==e?"":e[1]}a.prettyPhoto={version:"3.1.5"},a.fn.prettyPhoto=function(f){function r(){a(".pp_loaderIcon").hide(),projectedTop=scroll_pos.scrollTop+(o/2-i.containerHeight/2),projectedTop<0&&(projectedTop=0),$ppt.fadeTo(settings.animation_speed,1),$pp_pic_holder.find(".pp_content").animate({height:i.contentHeight,width:i.contentWidth},settings.animation_speed),$pp_pic_holder.animate({top:projectedTop,left:p/2-i.containerWidth/2<0?0:p/2-i.containerWidth/2,width:i.containerWidth},settings.animation_speed,function(){$pp_pic_holder.find(".pp_hoverContainer,#fullResImage").height(i.height).width(i.width),$pp_pic_holder.find(".pp_fade").fadeIn(settings.animation_speed),isSet&&"image"==w(pp_images[set_position])?$pp_pic_holder.find(".pp_hoverContainer").show():$pp_pic_holder.find(".pp_hoverContainer").hide(),settings.allow_expand&&(i.resized?a("a.pp_expand,a.pp_contract").show():a("a.pp_expand").hide()),!settings.autoplay_slideshow||q||j||a.prettyPhoto.startSlideshow(),settings.changepicturecallback(),j=!0}),A(),f.ajaxcallback()}function s(b){$pp_pic_holder.find("#pp_full_res object,#pp_full_res embed").css("visibility","hidden"),$pp_pic_holder.find(".pp_fade").fadeOut(settings.animation_speed,function(){a(".pp_loaderIcon").show(),b()})}function t(b){b>1?a(".pp_nav").show():a(".pp_nav").hide()}function u(a,b){resized=!1;var c=SITE.utils.checkIfMobile(),d=c?40:200;if(v(a,b),imageWidth=a,imageHeight=b,(n>p||m>o)&&doresize&&settings.allow_resize&&!h){for(resized=!0,fitting=!1;!fitting;)n>p?(imageWidth=p-d,imageHeight=b/a*imageWidth):m>o?(imageHeight=o-d,imageWidth=a/b*imageHeight):fitting=!0,m=imageHeight,n=imageWidth;c||(n>p||m>o)&&u(n,m),v(imageWidth,imageHeight)}return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(m),containerWidth:Math.floor(n)+2*settings.horizontal_padding,contentHeight:Math.floor(k),contentWidth:Math.floor(l),resized:resized}}function v(b,c){b=parseFloat(b),c=parseFloat(c),$pp_details=$pp_pic_holder.find(".pp_details"),$pp_details.width(b),detailsHeight=parseFloat($pp_details.css("marginTop"))+parseFloat($pp_details.css("marginBottom")),$pp_details=$pp_details.clone().addClass(settings.theme).width(b).appendTo(a("body")).css({position:"absolute",top:-1e4}),detailsHeight+=$pp_details.height(),detailsHeight=detailsHeight<=34?36:detailsHeight,$pp_details.remove(),$pp_title=$pp_pic_holder.find(".ppt"),$pp_title.width(b),titleHeight=parseFloat($pp_title.css("marginTop"))+parseFloat($pp_title.css("marginBottom")),$pp_title=$pp_title.clone().appendTo(a("body")).css({position:"absolute",top:-1e4}),titleHeight+=$pp_title.height(),$pp_title.remove(),k=c+detailsHeight,l=b,m=k+titleHeight+$pp_pic_holder.find(".pp_top").height()+$pp_pic_holder.find(".pp_bottom").height(),n=b}function w(a){return a.match(/youtube\.com\/watch/i)||a.match(/youtu\.be/i)?"youtube":a.match(/vimeo\.com/i)?"vimeo":a.match(/\b.mov\b/i)?"quicktime":a.match(/\b.swf\b/i)?"flash":a.match(/\biframe=true\b/i)?"iframe":a.match(/\bajax=true\b/i)?"ajax":a.match(/\bcustom=true\b/i)?"custom":"#"==a.substr(0,1)?"inline":"image"}function x(){if(doresize&&"undefined"!=typeof $pp_pic_holder){if(scroll_pos=y(),contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width(),projectedTop=o/2+scroll_pos.scrollTop-contentHeight/2,projectedTop<0&&(projectedTop=0),contentHeight>o)return;$pp_pic_holder.css({top:projectedTop,left:p/2+scroll_pos.scrollLeft-contentwidth/2})}}function y(){return self.pageYOffset?{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset}:document.documentElement&&document.documentElement.scrollTop?{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft}:document.body?{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}:void 0}function z(){o=a(window).height(),p=a(window).width(),"undefined"!=typeof $pp_overlay&&$pp_overlay.height(a(document).height()).width(p)}function A(){isSet&&settings.overlay_gallery&&"image"==w(pp_images[set_position])?(itemWidth=57,navWidth="facebook"==settings.theme||"pp_default"==settings.theme?50:30,itemsPerPage=Math.floor((i.containerWidth-100-navWidth)/itemWidth),itemsPerPage=itemsPerPage<pp_images.length?itemsPerPage:pp_images.length,totalPage=Math.ceil(pp_images.length/itemsPerPage)-1,0==totalPage?(navWidth=0,$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").hide()):$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").show(),galleryWidth=itemsPerPage*itemWidth,fullGalleryWidth=pp_images.length*itemWidth,$pp_gallery.css("margin-left",-(galleryWidth/2+navWidth/2)).find("div:first").width(galleryWidth+5).find("ul").width(fullGalleryWidth).find("li.selected").removeClass("selected"),goToPage=Math.floor(set_position/itemsPerPage)<totalPage?Math.floor(set_position/itemsPerPage):totalPage,a.prettyPhoto.changeGalleryPage(goToPage),$pp_gallery_li.filter(":eq("+set_position+")").addClass("selected")):$pp_pic_holder.find(".pp_content").unbind("mouseenter mouseleave")}function B(b){if(settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href))),settings.markup=settings.markup.replace("{pp_social}",""),a("body").append(settings.markup),$pp_pic_holder=a(".pp_pic_holder"),$ppt=a(".ppt"),$pp_overlay=a("div.pp_overlay"),isSet&&settings.overlay_gallery){currentGalleryPage=0,toInject="";for(var c=0;c<pp_images.length;c++)pp_images[c].match(/\b(jpg|jpeg|png|gif)\b/gi)?(classname="",img_src=pp_images[c]):(classname="default",img_src=""),toInject+="<li class='"+classname+"'><a href='#'><img src='"+img_src+"' width='50' alt='' /></a></li>";toInject=settings.gallery_markup.replace(/{gallery}/g,toInject),$pp_pic_holder.find("#pp_full_res").after(toInject),$pp_gallery=a(".pp_pic_holder .pp_gallery"),$pp_gallery_li=$pp_gallery.find("li"),$pp_gallery.find(".pp_arrow_next").click(function(){return a.prettyPhoto.changeGalleryPage("next"),a.prettyPhoto.stopSlideshow(),!1}),$pp_gallery.find(".pp_arrow_previous").click(function(){return a.prettyPhoto.changeGalleryPage("previous"),a.prettyPhoto.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_content").hover(function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeIn()},function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeOut()}),itemWidth=57,$pp_gallery_li.each(function(b){a(this).find("a").click(function(){return a.prettyPhoto.changePage(b),a.prettyPhoto.stopSlideshow(),!1})})}settings.slideshow&&($pp_pic_holder.find(".pp_nav").prepend('<a href="#" class="pp_play">Play</a>'),$pp_pic_holder.find(".pp_nav .pp_play").click(function(){return a.prettyPhoto.startSlideshow(),!1})),$pp_pic_holder.attr("class","pp_pic_holder "+settings.theme),$pp_overlay.css({opacity:0,height:a(document).height(),width:a(window).width()}).bind("click",function(){settings.modal||a.prettyPhoto.close()}),a("a.pp_close").bind("click",function(){return a.prettyPhoto.close(),!1}),settings.allow_expand&&a("a.pp_expand").bind("click",function(b){return a(this).hasClass("pp_expand")?(a(this).removeClass("pp_expand").addClass("pp_contract"),doresize=!1):(a(this).removeClass("pp_contract").addClass("pp_expand"),doresize=!0),s(function(){a.prettyPhoto.open()}),!1}),$pp_pic_holder.find(".pp_previous, .pp_nav .pp_arrow_previous").bind("click",function(){return a.prettyPhoto.changePage("previous"),a.prettyPhoto.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_next, .pp_nav .pp_arrow_next").bind("click",function(){return a.prettyPhoto.changePage("next"),a.prettyPhoto.stopSlideshow(),!1}),x()}f=jQuery.extend({hook:"rel",animation_speed:"fast",ajaxcallback:function(){},slideshow:5e3,autoplay_slideshow:!1,opacity:.8,show_title:!0,allow_resize:!1,allow_expand:!1,default_width:500,default_height:344,counter_separator_label:"/",theme:"pp_default",horizontal_padding:20,hideflash:!1,wmode:"opaque",autoplay:!0,modal:!1,deeplinking:!0,overlay_gallery:!0,overlay_gallery_max:30,keyboard_shortcuts:!0,changepicturecallback:function(){},callback:function(){},ie6_fallback:!0,markup:'<div class="pp_pic_holder"> \t\t\t\t\t\t<div class="ppt">&nbsp;</div> \t\t\t\t\t\t<div class="pp_top"> \t\t\t\t\t\t\t<div class="pp_left"></div> \t\t\t\t\t\t\t<div class="pp_middle"></div> \t\t\t\t\t\t\t<div class="pp_right"></div> \t\t\t\t\t\t</div> \t\t\t\t\t\t<div class="pp_content_container"> \t\t\t\t\t\t\t<div class="pp_left"> \t\t\t\t\t\t\t<div class="pp_right"> \t\t\t\t\t\t\t\t<div class="pp_content"> \t\t\t\t\t\t\t\t\t<div class="pp_loaderIcon"></div> \t\t\t\t\t\t\t\t\t<div class="pp_fade"> \t\t\t\t\t\t\t\t\t\t<a href="#" class="pp_expand" title="Expand the image">Expand</a> \t\t\t\t\t\t\t\t\t\t<div class="pp_hoverContainer"> \t\t\t\t\t\t\t\t\t\t\t<a class="pp_next" href="#">next</a> \t\t\t\t\t\t\t\t\t\t\t<a class="pp_previous" href="#">previous</a> \t\t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t\t<div id="pp_full_res"></div> \t\t\t\t\t\t\t\t\t\t<div class="pp_details"> \t\t\t\t\t\t\t\t\t\t\t<div class="pp_nav"> \t\t\t\t\t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_previous">Previous</a> \t\t\t\t\t\t\t\t\t\t\t\t<p class="currentTextHolder">0/0</p> \t\t\t\t\t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_next">Next</a> \t\t\t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t\t\t<p class="pp_description"></p> \t\t\t\t\t\t\t\t\t\t\t<div class="pp_social">{pp_social}</div> \t\t\t\t\t\t\t\t\t\t\t<a class="pp_close" href="#">Close</a> \t\t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t</div> \t\t\t\t\t\t</div> \t\t\t\t\t\t<div class="pp_bottom"> \t\t\t\t\t\t\t<div class="pp_left"></div> \t\t\t\t\t\t\t<div class="pp_middle"></div> \t\t\t\t\t\t\t<div class="pp_right"></div> \t\t\t\t\t\t</div> \t\t\t\t\t</div> \t\t\t\t\t<div class="pp_overlay"></div>',gallery_markup:'<div class="pp_gallery"> \t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_previous">Previous</a> \t\t\t\t\t\t\t\t<div> \t\t\t\t\t\t\t\t\t<ul> \t\t\t\t\t\t\t\t\t\t{gallery} \t\t\t\t\t\t\t\t\t</ul> \t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_next">Next</a> \t\t\t\t\t\t\t</div>',image_markup:'<img id="fullResImage" src="{path}" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>',quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe>',inline_markup:'<div class="pp_inline">{content}</div>',custom_markup:"",social_tools:'<div class="twitter"><a href="http://twitter.com/share" class="twitter-share-button" data-count="none">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script></div><div class="facebook"><iframe src="//www.facebook.com/plugins/like.php?locale=en_US&href={location_href}&amp;layout=button_count&amp;show_faces=true&amp;width=500&amp;action=like&amp;font&amp;colorscheme=light&amp;height=23" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:500px; height:23px;" allowTransparency="true"></iframe></div>'},f);var i,j,k,l,m,n,q,g=this,h=!1,o=a(window).height(),p=a(window).width();return doresize=!0,scroll_pos=y(),a(window).unbind("resize.prettyphoto").bind("resize.prettyphoto",function(){x(),z()}),f.keyboard_shortcuts&&a(document).unbind("keydown.prettyphoto").bind("keydown.prettyphoto",function(b){if("undefined"!=typeof $pp_pic_holder&&$pp_pic_holder.is(":visible"))switch(b.keyCode){case 37:a.prettyPhoto.changePage("previous"),b.preventDefault();break;case 39:a.prettyPhoto.changePage("next"),b.preventDefault();break;case 27:settings.modal||a.prettyPhoto.close(),b.preventDefault()}}),a.prettyPhoto.initialize=function(){return settings=f,"pp_default"==settings.theme&&(settings.horizontal_padding=16),theRel=a(this).attr(settings.hook),galleryRegExp=/\[(?:.*)\]/,isSet=!!galleryRegExp.exec(theRel),pp_images=isSet?jQuery.map(g,function(b,c){if(a(b).attr(settings.hook).indexOf(theRel)!=-1)return a(b).attr("href")}):a.makeArray(a(this).attr("href")),pp_titles=isSet?jQuery.map(g,function(b,c){if(a(b).attr(settings.hook).indexOf(theRel)!=-1)return a(b).find("img").attr("alt")?a(b).find("img").attr("alt"):""}):a.makeArray(a(this).find("img").attr("alt")),pp_descriptions=isSet?jQuery.map(g,function(b,c){if(a(b).attr(settings.hook).indexOf(theRel)!=-1)return a(b).attr("title")?a(b).attr("title"):""}):a.makeArray(a(this).attr("title")),pp_images.length>settings.overlay_gallery_max&&(settings.overlay_gallery=!1),set_position=jQuery.inArray(a(this).attr("href"),pp_images),rel_index=isSet?set_position:a("a["+settings.hook+"^='"+theRel+"']").index(a(this)),B(this),settings.allow_resize&&a(window).bind("scroll.prettyphoto",function(){x()}),a.prettyPhoto.open(),!1},a.prettyPhoto.open=function(b){return"undefined"==typeof settings&&(settings=f,pp_images=a.makeArray(arguments[0]),pp_titles=arguments[1]?a.makeArray(arguments[1]):a.makeArray(""),pp_descriptions=arguments[2]?a.makeArray(arguments[2]):a.makeArray(""),isSet=pp_images.length>1,set_position=arguments[3]?arguments[3]:0,B(b.target)),settings.hideflash&&a("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","hidden"),t(a(pp_images).size()),a(".pp_loaderIcon").show(),settings.deeplinking&&c(),settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href)),$pp_pic_holder.find(".pp_social").html(facebook_like_link)),$ppt.is(":hidden")&&$ppt.css("opacity",0).show(),$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity),$pp_pic_holder.find(".currentTextHolder").text(set_position+1+settings.counter_separator_label+a(pp_images).size()),"undefined"!=typeof pp_descriptions[set_position]&&""!=pp_descriptions[set_position]?$pp_pic_holder.find(".pp_description").show().html(unescape(pp_descriptions[set_position])):$pp_pic_holder.find(".pp_description").hide(),movie_width=parseFloat(e("width",pp_images[set_position]))?e("width",pp_images[set_position]):settings.default_width.toString(),movie_height=parseFloat(e("height",pp_images[set_position]))?e("height",pp_images[set_position]):settings.default_height.toString(),h=!1,movie_height.indexOf("%")!=-1&&(movie_height=parseFloat(a(window).height()*parseFloat(movie_height)/100-150),h=!0),movie_width.indexOf("%")!=-1&&(movie_width=parseFloat(a(window).width()*parseFloat(movie_width)/100-150),h=!0),$pp_pic_holder.fadeIn(function(){switch(settings.show_title&&""!=pp_titles[set_position]&&"undefined"!=typeof pp_titles[set_position]?$ppt.html(unescape(pp_titles[set_position])):$ppt.html("&nbsp;"),imgPreloader="",skipInjection=!1,w(pp_images[set_position])){case"image":imgPreloader=new Image,nextImage=new Image,isSet&&set_position<a(pp_images).size()-1&&(nextImage.src=pp_images[set_position+1]),prevImage=new Image,isSet&&pp_images[set_position-1]&&(prevImage.src=pp_images[set_position-1]),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]),imgPreloader.onload=function(){i=u(imgPreloader.width,imgPreloader.height),r()},imgPreloader.onerror=function(){alert("Image cannot be loaded. Make sure the path is correct and image exist."),a.prettyPhoto.close()},imgPreloader.src=pp_images[set_position];break;case"youtube":i=u(movie_width,movie_height),movie_id=e("v",pp_images[set_position]),""==movie_id&&(movie_id=pp_images[set_position].split("youtu.be/"),movie_id=movie_id[1],movie_id.indexOf("?")>0&&(movie_id=movie_id.substr(0,movie_id.indexOf("?"))),movie_id.indexOf("&")>0&&(movie_id=movie_id.substr(0,movie_id.indexOf("&")))),movie="http://www.youtube.com/embed/"+movie_id,e("rel",pp_images[set_position])?movie+="?rel="+e("rel",pp_images[set_position]):movie+="?rel=1",settings.autoplay&&(movie+="&autoplay=1"),toInject=settings.iframe_markup.replace(/{width}/g,i.width).replace(/{height}/g,i.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);break;case"vimeo":i=u(movie_width,movie_height),movie_id=pp_images[set_position];var b=/http(s?):\/\/(www\.)?vimeo.com\/(\d+)/,c=movie_id.match(b);movie="http://player.vimeo.com/video/"+c[3]+"?title=0&amp;byline=0&amp;portrait=0",settings.autoplay&&(movie+="&autoplay=1;"),vimeo_width=i.width+"/embed/?moog_width="+i.width,toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,i.height).replace(/{path}/g,movie);break;case"quicktime":i=u(movie_width,movie_height),i.height+=15,i.contentHeight+=15,i.containerHeight+=15,toInject=settings.quicktime_markup.replace(/{width}/g,i.width).replace(/{height}/g,i.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case"flash":i=u(movie_width,movie_height),flash_vars=pp_images[set_position],flash_vars=flash_vars.substring(pp_images[set_position].indexOf("flashvars")+10,pp_images[set_position].length),filename=pp_images[set_position],filename=filename.substring(0,filename.indexOf("?")),toInject=settings.flash_markup.replace(/{width}/g,i.width).replace(/{height}/g,i.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+"?"+flash_vars);break;case"iframe":i=u(movie_width,movie_height),frame_url=pp_images[set_position],frame_url=frame_url.substr(0,frame_url.indexOf("iframe")-1),toInject=settings.iframe_markup.replace(/{width}/g,i.width).replace(/{height}/g,i.height).replace(/{path}/g,frame_url);break;case"ajax":doresize=!1,i=u(movie_width,movie_height),doresize=!0,skipInjection=!0,a.get(pp_images[set_position],function(a){toInject=settings.inline_markup.replace(/{content}/g,a),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,r()});break;case"custom":i=u(movie_width,movie_height),toInject=settings.custom_markup;break;case"inline":myClone=a(pp_images[set_position]).clone().append('<br clear="all" />').css({width:settings.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline"></div></div>').appendTo(a("body")).show(),doresize=!1,i=u(a(myClone).width(),a(myClone).height()),doresize=!0,a(myClone).remove(),toInject=settings.inline_markup.replace(/{content}/g,a(pp_images[set_position]).html())}imgPreloader||skipInjection||($pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,r())}),!1},a.prettyPhoto.changePage=function(b){currentGalleryPage=0,"previous"==b?(set_position--,set_position<0&&(set_position=a(pp_images).size()-1)):"next"==b?(set_position++,set_position>a(pp_images).size()-1&&(set_position=0)):set_position=b,rel_index=set_position,doresize||(doresize=!0),settings.allow_expand&&a(".pp_contract").removeClass("pp_contract").addClass("pp_expand"),s(function(){a.prettyPhoto.open()})},a.prettyPhoto.changeGalleryPage=function(a){"next"==a?(currentGalleryPage++,currentGalleryPage>totalPage&&(currentGalleryPage=0)):"previous"==a?(currentGalleryPage--,currentGalleryPage<0&&(currentGalleryPage=totalPage)):currentGalleryPage=a,slide_speed="next"==a||"previous"==a?settings.animation_speed:0,slide_to=currentGalleryPage*(itemsPerPage*itemWidth),$pp_gallery.find("ul").animate({left:-slide_to},slide_speed)},a.prettyPhoto.startSlideshow=function(){"undefined"==typeof q?($pp_pic_holder.find(".pp_play").unbind("click").removeClass("pp_play").addClass("pp_pause").click(function(){return a.prettyPhoto.stopSlideshow(),!1}),q=setInterval(a.prettyPhoto.startSlideshow,settings.slideshow)):a.prettyPhoto.changePage("next")},a.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find(".pp_pause").unbind("click").removeClass("pp_pause").addClass("pp_play").click(function(){return a.prettyPhoto.startSlideshow(),!1}),clearInterval(q),q=void 0},a.prettyPhoto.close=function(){$pp_overlay.is(":animated")||(a.prettyPhoto.stopSlideshow(),$pp_pic_holder.stop().find("object,embed").css("visibility","hidden"),a("div.pp_pic_holder,div.ppt,.pp_fade").fadeOut(settings.animation_speed,function(){a(this).remove()}),$pp_overlay.fadeOut(settings.animation_speed,function(){settings.hideflash&&a("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","visible"),a(this).remove(),a(window).unbind("scroll.prettyphoto"),d(),settings.callback(),doresize=!0,j=!1,delete settings}))},!pp_alreadyInitialized&&b()&&(pp_alreadyInitialized=!0,hashIndex=b(),hashRel=hashIndex,hashIndex=hashIndex.substring(hashIndex.indexOf("/")+1,hashIndex.length-1),hashRel=hashRel.substring(0,hashRel.indexOf("/")),setTimeout(function(){a("a["+f.hook+"^='"+hashRel+"']:eq("+hashIndex+")").trigger("click")},50)),this.unbind("click.prettyphoto").bind("click.prettyphoto",a.prettyPhoto.initialize)}}(jQuery);var pp_alreadyInitialized=!1;(function(){var a=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},b=[].slice;!function(a,b){return"function"==typeof define&&define.amd?define("waypoints",["jquery"],function(c){return b(c,a)}):b(a.jQuery,a)}(this,function(c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;return e=c(d),l=a.call(d,"ontouchstart")>=0,h={horizontal:{},vertical:{}},i=1,k={},j="waypoints-context-id",o="resize.waypoints",p="scroll.waypoints",q=1,r="waypoints-waypoint-ids",s="waypoint",t="waypoints",f=function(){function a(a){var b=this;this.$element=a,this.element=a[0],this.didResize=!1,this.didScroll=!1,this.id="context"+i++,this.oldScroll={x:a.scrollLeft(),y:a.scrollTop()},this.waypoints={horizontal:{},vertical:{}},a.data(j,this.id),k[this.id]=this,a.bind(p,function(){var a;if(!b.didScroll&&!l)return b.didScroll=!0,a=function(){return b.doScroll(),b.didScroll=!1},d.setTimeout(a,c[t].settings.scrollThrottle)}),a.bind(o,function(){var a;if(!b.didResize)return b.didResize=!0,a=function(){return c[t]("refresh"),b.didResize=!1},d.setTimeout(a,c[t].settings.resizeThrottle)})}return a.prototype.doScroll=function(){var a,b=this;return a={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!l||a.vertical.oldScroll&&a.vertical.newScroll||c[t]("refresh"),c.each(a,function(a,d){var e,f,g;return g=[],f=d.newScroll>d.oldScroll,e=f?d.forward:d.backward,c.each(b.waypoints[a],function(a,b){var c,e;return d.oldScroll<(c=b.offset)&&c<=d.newScroll?g.push(b):d.newScroll<(e=b.offset)&&e<=d.oldScroll?g.push(b):void 0}),g.sort(function(a,b){return a.offset-b.offset}),f||g.reverse(),c.each(g,function(a,b){if(b.options.continuous||a===g.length-1)return b.trigger([e])})}),this.oldScroll={x:a.horizontal.newScroll,y:a.vertical.newScroll}},a.prototype.refresh=function(){var a,b,d,e=this;return d=c.isWindow(this.element),b=this.$element.offset(),this.doScroll(),a={horizontal:{contextOffset:d?0:b.left,contextScroll:d?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:d?0:b.top,contextScroll:d?0:this.oldScroll.y,contextDimension:d?c[t]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},c.each(a,function(a,b){return c.each(e.waypoints[a],function(a,d){var e,f,g,h,i;if(e=d.options.offset,g=d.offset,f=c.isWindow(d.element)?0:d.$element.offset()[b.offsetProp],c.isFunction(e)?e=e.apply(d.element):"string"==typeof e&&(e=parseFloat(e),d.options.offset.indexOf("%")>-1&&(e=Math.ceil(b.contextDimension*e/100))),d.offset=f-b.contextOffset+b.contextScroll-e,(!d.options.onlyOnScroll||null==g)&&d.enabled)return null!==g&&g<(h=b.oldScroll)&&h<=d.offset?d.trigger([b.backward]):null!==g&&g>(i=b.oldScroll)&&i>=d.offset?d.trigger([b.forward]):null===g&&b.oldScroll>=d.offset?d.trigger([b.forward]):void 0})})},a.prototype.checkEmpty=function(){if(c.isEmptyObject(this.waypoints.horizontal)&&c.isEmptyObject(this.waypoints.vertical))return this.$element.unbind([o,p].join(" ")),delete k[this.id]},a}(),g=function(){function a(a,b,d){var e,f;d=c.extend({},c.fn[s].defaults,d),"bottom-in-view"===d.offset&&(d.offset=function(){var a;return a=c[t]("viewportHeight"),c.isWindow(b.element)||(a=b.$element.height()),a-c(this).outerHeight()}),this.$element=a,this.element=a[0],this.axis=d.horizontal?"horizontal":"vertical",this.callback=d.handler,this.context=b,this.enabled=d.enabled,this.id="waypoints"+q++,this.offset=null,this.options=d,b.waypoints[this.axis][this.id]=this,h[this.axis][this.id]=this,e=null!=(f=a.data(r))?f:[],e.push(this.id),a.data(r,e)}return a.prototype.trigger=function(a){if(this.enabled)return null!=this.callback&&this.callback.apply(this.element,a),this.options.triggerOnce?this.destroy():void 0},a.prototype.disable=function(){return this.enabled=!1},a.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},a.prototype.destroy=function(){return delete h[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},a.getWaypointsByElement=function(a){var b,d;return(d=c(a).data(r))?(b=c.extend({},h.horizontal,h.vertical),c.map(d,function(a){return b[a]})):[]},a}(),n={init:function(a,b){var d;return null==b&&(b={}),null==(d=b.handler)&&(b.handler=a),this.each(function(){var a,d,e,h;return a=c(this),e=null!=(h=b.context)?h:c.fn[s].defaults.context,c.isWindow(e)||(e=a.closest(e)),e=c(e),d=k[e.data(j)],d||(d=new f(e)),new g(a,d,b)}),c[t]("refresh"),this},disable:function(){return n._invoke(this,"disable")},enable:function(){return n._invoke(this,"enable")},destroy:function(){return n._invoke(this,"destroy")},prev:function(a,b){return n._traverse.call(this,a,b,function(a,b,c){if(b>0)return a.push(c[b-1])})},next:function(a,b){return n._traverse.call(this,a,b,function(a,b,c){if(b<c.length-1)return a.push(c[b+1])})},_traverse:function(a,b,e){var f,g;return null==a&&(a="vertical"),null==b&&(b=d),g=m.aggregate(b),f=[],this.each(function(){var b;return b=c.inArray(this,g[a]),e(f,b,g[a])}),this.pushStack(f)},_invoke:function(a,b){return a.each(function(){var a;return a=g.getWaypointsByElement(this),c.each(a,function(a,c){return c[b](),!0})}),this}},c.fn[s]=function(){var a,d;return d=arguments[0],a=2<=arguments.length?b.call(arguments,1):[],n[d]?n[d].apply(this,a):c.isFunction(d)?n.init.apply(this,arguments):c.isPlainObject(d)?n.init.apply(this,[null,d]):d?c.error("The "+d+" method does not exist in jQuery Waypoints."):c.error("jQuery Waypoints needs a callback function or handler option.")},c.fn[s].defaults={context:d,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},m={refresh:function(){return c.each(k,function(a,b){return b.refresh()})},viewportHeight:function(){var a;return null!=(a=d.innerHeight)?a:e.height()},aggregate:function(a){var b,d,e;return b=h,a&&(b=null!=(e=k[c(a).data(j)])?e.waypoints:void 0),b?(d={horizontal:[],vertical:[]},c.each(d,function(a,e){return c.each(b[a],function(a,b){return e.push(b)}),e.sort(function(a,b){return a.offset-b.offset}),d[a]=c.map(e,function(a){return a.element}),d[a]=c.unique(d[a])}),d):[]},above:function(a){return null==a&&(a=d),m._filter(a,"vertical",function(a,b){return b.offset<=a.oldScroll.y})},below:function(a){return null==a&&(a=d),m._filter(a,"vertical",function(a,b){return b.offset>a.oldScroll.y})},left:function(a){return null==a&&(a=d),m._filter(a,"horizontal",function(a,b){return b.offset<=a.oldScroll.x})},right:function(a){return null==a&&(a=d),m._filter(a,"horizontal",function(a,b){return b.offset>a.oldScroll.x})},enable:function(){return m._invoke("enable")},disable:function(){return m._invoke("disable")},destroy:function(){return m._invoke("destroy")},extendFn:function(a,b){return n[a]=b},_invoke:function(a){var b;return b=c.extend({},h.vertical,h.horizontal),c.each(b,function(b,c){return c[a](),!0})},_filter:function(a,b,d){var e,f;return(e=k[c(a).data(j)])?(f=[],c.each(e.waypoints[b],function(a,b){if(d(e,b))return f.push(b)}),f.sort(function(a,b){return a.offset-b.offset}),c.map(f,function(a){return a.element})):[]}},c[t]=function(){var a,c;return c=arguments[0],a=2<=arguments.length?b.call(arguments,1):[],m[c]?m[c].apply(null,a):m.aggregate.call(null,c)},c[t].settings={resizeThrottle:100,scrollThrottle:30},e.load(function(){return c[t]("refresh")})})}).call(this),function(a){"use strict";var b=0;a.fn.siteCarousel=function(c){function t(){var a=parseInt(h.eq(0).data("defwidth"),10);f.hasClass("pc-no-spacing")&&(e.itemMargin=0),a&&a>100&&(e.minItemWidth=a-70),k=g.find(e.pageWrapperSelector).length,k>1&&F(),u(),v(),e.selfDisplay&&f.animate({opacity:1}),p=g.find(e.pageWrapperSelector+":first "+e.itemSelector).length}function u(){var a,b;q=Math.floor((f.width()-e.itemMargin)/(e.minItemWidth+e.itemMargin)),q<=1&&(q=2),a=Math.floor((f.width()+e.itemMargin-2*e.shadowWidth)/q)-e.itemMargin,h.width(a+1),o=g.find(e.pageWrapperSelector).eq(0).width(),b=k*o+1e3,g.css({width:b}),G()}function v(){k>1&&(g.touchwipe({wipeLeft:A,wipeRight:B,preventDefaultEvents:!1}),a(window).on("resize."+e.namespace,z)),g.on("destroy"+e.namespace,H)}function w(a){if(!n){n=!0;var b=x(a);g.animate({marginLeft:[b,"easeOutExpo"]},800,function(){n=!1,m=a})}}function x(a){return y(),-a*o-e.itemMargin/2+e.shadowWidth}function y(){u(),o=g.find(e.pageWrapperSelector).eq(0).width()}function z(){y(),g.css({marginLeft:x(m)})}function A(){if(!n)if(D())C(!0);else{var a=m<k-1?m+1:0;w(a)}}function B(){n||(m>0?w(m-1):C(!1))}function C(b){var c=b?-1:1;g.stop().animate({left:10*c},100,function(){a(this).stop().animate({left:0},300)})}function D(){return l-m*p<=q}function E(){return l<=q&&0===m}function F(){r=a("<div />",{class:"pc-next hover"}).on("click."+e.namespace,A).appendTo(i),s=a("<div />",{class:"pc-prev hover"}).on("click."+e.namespace,B).appendTo(i)}function G(){E()?(r&&r.hide(),s&&s.hide()):(r&&r.show(),s&&s.show())}function H(){a(window).off("."+e.namespace),g.off("."+e.namespace),r.off("."+e.namespace),s.off("."+e.namespace)}b++;var d={minItemWidth:290,namespace:"carousel"+b,itemMargin:12,shadowWidth:0,selfDisplay:!0,holderSelector:".pc-holder",pageWrapperSelector:".pc-page-wrapper",wrapperSel:".pc-wrapper",itemSelector:".pc-item",titleSelector:".portfolio-project-title",hoverClass:"portfolio-hover",headerSelector:".pc-header"},e=a.extend(d,c),f=this,g=f.find(e.holderSelector).eq(0),h=g.find(e.itemSelector),i=f.find(e.wrapperSel),k=(f.find(e.headerSelector),0),l=h.length,m=0,n=!1,o=g.find(e.pageWrapperSelector).eq(0).width(),p=0,q=0,r=null,s=null;g.length&&t()}}(jQuery),function(a){"use strict";var b=document.body||document.documentElement,c=b.style,d=void 0!==c.transition||void 0!==c.WebkitTransition||void 0!==c.MozTransition||void 0!==c.MsTransition||void 0!==c.OTransition;a.fn.siteTransit=function(){var b={},c=null,e="siteTransit",f=!1;return arguments.length&&"object"==typeof arguments[0]?(d?(b=arguments[0],arguments[1]&&(c=arguments[1],a(this).on("transitionend."+e+" webkitTransitionEnd."+e+" oTransitionEnd."+e+" MSTransitionEnd."+e,function(b){f||(c.call(),a(this).off(e),f=!0)})),a(this).css(b)):a.fn.animate.apply(a(this),arguments),a(this)):a(this)}}(jQuery),jQuery.support.placeholder=function(){var a=document.createElement("input");return"placeholder"in a}(),function(a){"use strict";a.fn.siteOnImgLoaded=function(b){function g(){var b=e.length,c=0;return b?void e.each(function(){a(this).one("load",function(e){e.stopPropagation(),c++,c===b&&(d.callback.call(this),a(this).off("load"))}).on("error",function(){a(this).trigger("load")}),(this.complete||f&&this.width)&&a(this).trigger("load")}):void d.callback.call(this)}var c={},d=a.extend(c,b),e=a(this),f=SITE.getBrowser().msie;g()}}(jQuery),function(a){"use strict";a.fn.siteTabs=function(b){function i(){j(0),e.on("click",d.tabSel,function(b){b.preventDefault();var c=f.index(a(this));c!==h&&(k(h),j(c))})}function j(a){g.eq(a).fadeIn(),f.eq(a).addClass(d.currentClass),h=a}function k(a){g.eq(a).hide(),f.eq(a).removeClass(d.currentClass)}var c={tabSel:".tabs li",paneSel:".panes>div",currentClass:"current"},d=a.extend(c,b),e=a(this),f=e.find(d.tabSel),g=e.find(d.paneSel),h=0;i()}}(jQuery),function(a){"use strict";a.fn.siteAccordion=function(b){function i(){j(0),e.on("click",d.tabSel,function(b){b.preventDefault();var c=f.index(a(this));c!==h&&(k(h),j(c))})}function j(a){g.eq(a).animate({height:"show",opacity:1}),f.eq(a).addClass(d.currentClass),h=a}function k(b){var c=new a.Deferred;return g.eq(b).animate({height:"hide",opacity:0},function(){c.resolve()}),f.eq(b).removeClass(d.currentClass),c.promise()}var c={tabSel:".accordion-title",paneSel:".pane",currentClass:"current"},d=a.extend(c,b),e=a(this),f=e.find(d.tabSel),g=e.find(d.paneSel),h=0;i()}}(jQuery);var SITE=SITE||{};!function(a){"use strict";a.extend(SITE,{ajaxurl:"",lightboxStyle:"light_rounded",masonryClass:"page-masonry"}),SITE.getBrowser=function(){var b,c,d,a={};return SITE.browser?SITE.browser:(b=navigator.userAgent.toLowerCase(),c=/(chrome)[ \/]([\w.]+)/.exec(b)||/(webkit)[ \/]([\w.]+)/.exec(b)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(b)||/(msie) ([\w.]+)/.exec(b)||b.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(b)||[],d={browser:c[1]||"",version:c[2]||"0"},d.browser&&(a[d.browser]=!0,a.version=d.version),a.chrome?a.webkit=!0:a.webkit&&(a.safari=!0),SITE.browser=a,a)},SITE.supportsVideo=function(){return"undefined"==typeof SITE.videoSupport&&(SITE.videoSupport=!!document.createElement("video").canPlayType),SITE.videoSupport},SITE.$win=a(window),SITE.$body=a("body"),SITE.init={initSite:function(){var b=this;b.lightbox(null,{}),b.lightbox(a("a[data-rel^='pglightbox']:not(#portfolio-slider a, #portfolio-gallery a)"),{}),b.tabs(),b.placeholder(a(".placehoder")),b.loadableImg(a("img.loadable, .blog-post-img img")),new SITE.menuNav(a("#menu")).init(),b.quickGallery(),b.carousel(),b.headerSearch(),SITE.disableRightClick&&SITE.utils.disableRightClick(),SITE.utils.checkIfMobile();var d=a("li.cat-item, .widget_archive li").contents().filter(function(){return 3==this.nodeType});d.length&&d.wrap(a("<span />",{class:"cat-number"}));var e=a(".social-share");e.each(function(){SITE.init.share(a(this))}),b.parallax(),b.bgCoverFallback(),SITE.utils.checkIfMobile()||b.setScrollToTop(),b.ieClass(),SITE.stickyHeader&&(new SITE.utils.stickyHeader(a("#header"),{}).init(),b.ieIframeFix()),a(".testimonial-slider").each(function(){new SITE.utils.fadeSlider(a(this),{itemSel:".testimonial-container",leftArrowClass:"ts-arrow ts-left-arrow",rightArrowClass:"ts-arrow ts-right-arrow",autoplay:!!a(this).data("autoplay")}).init()}),b.resizeEvents()},resizeEvents:function(){var a,b=function(){SITE.$win.trigger("siteresize")};SITE.$win.on("resize",function(){clearTimeout(a),a=setTimeout(b,500)})},headerSearch:function(){var c,d,b=a(".header-search-btn"),e=!1,f=!1,g="search-visible";b.length&&(c=a("#header .search-wrapper:first"),d=c.find(".search-input"),b.on("click",function(a){a.preventDefault(),e||(e=!0,f?(b.removeClass(g),c.animate({width:"hide",opacity:0},function(){d.blur(),b.blur(),f=!1,e=!1})):(b.addClass(g),c.animate({width:"show",opacity:1},function(){d.focus(),f=!0,e=!1})))}))},ieIframeFix:function(){SITE.getBrowser().msie&&a("iframe").each(function(){var c,b=a(this).attr("src");b&&(c=SITE.url.addUrlParameter(b,"wmode=transparent"),a(this).attr({src:c,wmode:"Opaque"}))})},ieClass:function(){var b=SITE.getBrowser(),c=0;b.msie&&(c=parseInt(b.version,10),a("body").addClass("ie ie"+c))},setScrollToTop:function(){var b=a(".scroll-to-top"),c=!1;if(b.length){var d=function(){var d=a(document).scrollTop(),e=a(window).height();!c&&d>e?(b.siteTransit({opacity:1,marginBottom:0}),c=!0):c&&d<e&&(b.siteTransit({opacity:0,marginBottom:-30}),c=!1)};a("body").on("mousewheel",d),d(),b.on("click",function(){a.scrollTo(a("#main-container"),{duration:1e3,easing:"easeOutSine",offset:{top:0},onAfter:function(){d(),a(window).trigger("sitescroll")}})})}},bgCoverFallback:function(){SITE.getBrowser().msie&&SITE.getBrowser().version<=8&&a(".full-bg-image").each(function(){new SITE.utils.bgCoverFallback(a(this)).init()})},parallax:function(){SITE.utils.checkIfMobile()||a(".parallax-scroll .full-bg-image").each(function(){new SITE.parallax(a(this),"background",{}).init()}),a(".services-default.site-parallax,.services-icon.site-parallax,.services-boxed-photo.site-parallax").each(function(){new SITE.parallax(a(this),"list",{children:a(this).find(".services-box"),initProp:{opacity:0,top:50,position:"relative"},endProp:{opacity:1,top:0}}).init()}),a(".services-thumbnail.site-parallax").each(function(){new SITE.parallax(a(this),"list",{children:a(this).find(".services-box"),animation:"scale"}).init()});var b=a(".parallax-header");b.length&&(b.find(".page-title-wrapper").each(function(){new SITE.parallax(a(this),"hideOpacity",{disableMobile:!0,$parent:a(this).parent(".header-wrapper")}).init()}),b.find(".page-title .content-boxed").each(function(){new SITE.parallax(a(this),"stickToViewport",{disableMobile:!0,$parent:a(this).parents(".header-wrapper:first")}).init()}))},lightbox:function(b,c){b=b||a("a[data-rel^='lightbox'],a[data-rel^='lightbox[group]']");var d={animation_speed:"normal",theme:SITE.lightboxStyle,overlay_gallery:!1,slideshow:!1,social_tools:"",hook:"data-rel"},e=a.extend(d,SITE.lightboxOptions);a.isEmptyObject(c)||(e=a.extend(e,c)),b.prettyPhoto(e)},placeholder:function(b){a.support.placeholder||b.each(function(){a(this).attr("value",a(this).attr("placeholder"))}).on("focusin",function(){a(this).attr("value",a(this).attr("placeholder"))}).on("focusout",function(){a(this).attr("value","")})},tabs:function(){a(".tabs-container").each(function(){a(this).siteTabs()}),a(".accordion-container").each(function(){a(this).siteAccordion()})},carousel:function(){var b=a("body").hasClass("single-portfolio");(!b||b&&!a("#portfolio-slider").length)&&a(".portfolio-carousel").each(function(){a(this).siteCarousel()})},loadableImg:function(b){b.length&&b.each(function(){a(this).siteOnImgLoaded({callback:function(){a(this).animate({opacity:1}).parents("div.img-loading:first").css({minWidth:0,minHeight:0})}})})},quickGallery:function(){a(".quick-gallery").each(function(){var b=a(this),c=b.hasClass(SITE.masonryClass);b.hasClass("qg-full")||new SITE.utils.resizableImageGallery(".qg-img",{masonry:c,parent:b}).init()})},nivoSlider:function(b,c){var d,e=function(){b.nivoSlider({effect:"fade",animSpeed:c.speed,pauseTime:c.interval,startSlide:0,directionNav:c.arrows,directionNavHide:!1,controlNav:c.buttons,controlNavThumbs:!1,controlNavThumbsFromRel:!1,keyboardNav:!0,pauseOnHover:c.pauseOnHover,manualAdvance:!c.autoplay,captionOpacity:.8,beforeChange:function(){d.stop().css({opacity:0,bottom:-30})},afterChange:function(){d.animate({opacity:1,bottom:0})},slideshowEnd:function(){}}).css({minHeight:0}),d=b.find(".nivo-caption"),a(".nivo-controlNav a").html(""),a(".nivo-directionNav a").html("")};SITE.getBrowser().msie?e():b.find("img").siteOnImgLoaded({callback:e})},share:function(b){b.length&&b.find(".share-item").each(function(){var b=a(this),c=b.data("type"),d=b.data("title"),e=b.data("url"),f={url:e,title:d,share:{},template:"<div></div>",enableHover:!1,enableTracking:!1,urlCurl:"",buttons:{},click:function(a,b){a.simulateClick(),a.openPopup(c)}};f.share[c]=!0,"googlePlus"===c?f.buttons.googlePlus={lang:b.data("lang")}:"pinterest"===c&&(f.buttons.pinterest={media:b.data("media"),description:d}),b.sharrre(f)})},blogMasonry:function(b){var c=30,d=a("."+SITE.masonryClass),e=function(){var a=b,e=d.width();e<=600?a=1:e>600&&e<=800&&(a=2);var f=Math.floor((e-(a-1)*c)/a)-1;return d.find(".post").width(f),f};e(),d.masonry({itemSelector:".post",gutter:c,transitionDuration:0}),d.find("img").each(function(){a(this).imagesLoaded(function(){d.masonry("layout")})}),a(window).on("resize",function(){e(),d.masonry("layout")})}},SITE.menuNav=function(b,c){this.$menu=b;var d={mobMenuClass:"mob-nav-menu",mobPrecedingElSel:".section-header",mobBtnSel:".mob-nav-btn",mobArrowClass:"mob-nav-arrow",mobSubOpenedClass:"mob-sub-opened",megaMenuClass:"mega-menu-item",megaMenuMaxWidth:1e3,megaMenuColumnWidth:232};this.o=a.extend(d,c)};var b=SITE.menuNav.prototype;b.init=function(){var b=this,c=SITE.getBrowser();b.$win=a(window),b.$body=a("body"),b.$mainUl=b.$menu.find("ul:first"),b.isIE9=c.msie&&9==parseInt(c.version,10),b.$menu.is(":visible")?b.initMain():a(window).on("resize.sitedropdown",function(){b.$menu.is(":visible")&&(b.initMain(),a(window).off(".sitedropdown"))}),b.initMobileMenu()},b.initMain=function(){var b=this,c="right";this.$body.hasClass("header-layout-center")?c="center":this.$body.hasClass("header-layout-right")&&(c="left"),this.menuPosition=c,b.$menu.find("ul li").has("ul").not("ul li.mega-menu-item li").each(function(){a(this).on("mouseenter",function(){b.doOnMenuMouseover(a(this))}).on("mouseleave",function(){b.doOnMenuMouseout(a(this))}).find("a:first").append('<span class="drop-arrow"></span>')}),b.$menu.find('a[href="#"]').on("click",function(a){a.preventDefault()}),this.initMegaMenu()},b.initMegaMenu=function(){this.$megaUls=this.$menu.find("ul li."+this.o.megaMenuClass).has("ul").children("ul"),this.$megaUls.length&&(this.$parentWrapper=this.$menu.parents(".section-boxed:first"),this.$win.on("siteresize",a.proxy(this.setMegaMenuWidth,this)),this.setMegaMenuWidth());},b.setMegaMenuMaxWidth=function(){var a=0;switch(this.menuPosition){case"right":this.lastMenuLi||(this.lastMenuLi=this.$menu.find("ul:first>li:last")),this.isIE9&&this.lastMenuLi.offset(),a=this.lastMenuLi.offset().left+this.lastMenuLi.width()-this.$parentWrapper.offset().left;break;case"left":a=this.$parentWrapper.width();break;case"center":a=this.$parentWrapper.width()}this.megaMenuMaxWidth=Math.min(this.o.megaMenuMaxWidth,a)},b.setMegaMenuWidth=function(){var b=this;this.setMegaMenuMaxWidth(),this.mainUlWidth=this.$mainUl.width(),this.$megaUls.each(function(){var e,f,c=a(this),d=c.children("li").length;d>0&&(b.megaMenuMaxWidth<d*b.o.megaMenuColumnWidth?(f=Math.floor(b.megaMenuMaxWidth/b.o.megaMenuColumnWidth)||1,e=f*b.o.megaMenuColumnWidth):(e=d*b.o.megaMenuColumnWidth,f=d),this.lastMegaClass&&c.removeClass(this.lastMegaClass),this.lastMegaClass="mega-columns-"+f,c.width(e).addClass(this.lastMegaClass),b.setMegaMenuPosition(c,e))})},b.setMegaMenuPosition=function(a,b){var c,d,e,f;if(b>=this.mainUlWidth)switch(this.menuPosition){case"right":a.css({left:"auto",right:0});break;case"left":a.css({left:0});break;case"center":if("undefined"==typeof this.iconsWidth){var g=this.$parentWrapper.find(".header-buttons");this.iconsWidth=g.length?g.width():0}c=-(b-(this.mainUlWidth+this.iconsWidth))/2,a.css({left:c})}else d=a.parents("li:first"),e=d.position().left+d.width()/2,f=Math.min(e,this.mainUlWidth-e),b/2<=f?(c=e-b/2,a.css({left:c})):e<=this.mainUlWidth-e?a.css({left:0}):a.css({left:"auto",right:0})},b.doOnMenuMouseover=function(a){var b=this,c=a.find("ul:first"),d=c.parents("ul").length,e=a.width(),f=c.width(),g=b.$win.width(),h=a.offset().left;a.addClass("hovered"),"right"!=b.menuPosition||a.hasClass(b.o.megaMenuClass)||(d>1&&e+f+h>g?c.css({left:-e}):1===d&&(f+h>g?c.css({left:g-3-(f+h)}):c.css({left:0}))),c.stop().fadeIn(300)},b.doOnMenuMouseout=function(a){var b=a.find("ul:first");a.removeClass("hovered"),b.stop().fadeOut(300)},b.initMobileMenu=function(){var b=this,c=a("<div />",{class:b.o.mobMenuClass,html:b.$menu.html()}).insertAfter(a(b.o.mobPrecedingElSel));b.mobile={opened:!1,inAnimation:!1,$menuBtn:a(b.o.mobBtnSel),$menu:c},c.find("ul").css("width","").css("left","").css("right",""),c.find("ul li").has("ul").each(function(){a(this).append('<div class="'+b.o.mobArrowClass+'"><span></span></div>')}),b.bindMobileEventHandlers()},b.bindMobileEventHandlers=function(){var b=this,c=b.mobile;c.$menuBtn.on("click",function(){b.toggleMobileMenu()}),b.$win.on("resize",function(){!c.$menuBtn.is(":visible")&&c.$menu&&c.opened&&(c.$menu.hide(),c.opened=!1)}),c.$menu.find('li:has(ul) a[href="#"],.'+b.o.mobArrowClass).on("click",function(c){var d=a(this).siblings("ul:first");"span"==c.target.nodeName.toLowerCase()?a(this):a(this).siblings("."+b.o.mobArrowClass);b.toggleMobileSubMenu(d,a(this))})},b.toggleMobileMenu=function(){var a=this,b=a.mobile;b.inAnimation||(b.opened?(b.inAnimation=!0,b.$menu.animate({height:"hide"},function(){b.opened=!1,b.inAnimation=!1})):(b.inAnimation=!0,b.$menu.animate({height:"show"},function(){b.opened=!0,b.inAnimation=!1})))},b.toggleMobileSubMenu=function(a,b){var c=this,d=c.mobile;a.length&&!d.inAnimation&&(d.inAnimation=!0,b.toggleClass(c.o.mobSubOpenedClass),a.is(":visible")?a.animate({height:"hide"},function(){d.inAnimation=!1}):a.animate({height:"show"},function(){d.inAnimation=!1}))},SITE.parallax=function(a,b,c){this.$el=a,this.type=b,this.options=c},SITE.parallax.prototype.init=function(){var a=this,b={background:"setBackground",list:"setList",single:"setSingleElement",hideOpacity:"setHideOpacity",stickToViewport:"setStickOnViewportUntilParentBottom"};a.options.disableMobile&&SITE.utils.checkIfMobile()||b.hasOwnProperty(a.type)&&SITE.parallax.prototype[b[a.type]].call(this)},SITE.parallax.prototype.setBackground=function(){var b,a=this,c=a.$el,d=c.parent(),e={},f=60,g=100,h=f/g,i=90,j=120,k=Math.floor((i+j)/g);for(b=0;b<g;b++)e[i-b*k]="-"+(b+1)*h+"%";_.each(e,function(a,b){d.waypoint(function(b){c.stop().siteTransit({top:a})},{offset:b+"%"})})},SITE.parallax.prototype.setSingleElement=function(){var a=this,b=a.$el;b.css(a.options.initProp).waypoint(function(){b.addClass("animated-element").siteTransit(a.options.endProp).waypoint("destroy")},{offset:"90%"})},SITE.parallax.prototype.setHideOpacity=function(){var b=this,c=b.$el,d=b.options.$parent,e=d.height(),f=a(window),g=function(){var a=1,b=f.scrollTop();e<=0||b<e&&b>=0&&(a=1-b/e,c.css({opacity:a}))};f.scroll(g),g()},SITE.parallax.prototype.setStickOnViewportUntilParentBottom=function(){var b=this,c=b.$el,d=b.options.$parent,e=d.height(),f=a(window),g=100,h=function(){var a=f.scrollTop();e<=0||a<e&&a>=0&&c.css({top:a*g/e})},i=function(){g=d.offset().top+d.outerHeight()-(c.offset().top+c.height())};i(),h(),f.scroll(h)},SITE.parallax.prototype.setList=function(){var b=this,c=b.$el,d=b.options.animation&&"scale"==b.options.animation?"scale":"custom",e=b.options.children.addClass("parallax-element");"custom"===d&&e.css(b.options.initProp),c.waypoint(function(f){e.each(function(c){var e=a(this);setTimeout(function(){"custom"===d?e.siteTransit(b.options.endProp):e.addClass("parallax-scaled-original")},400*c)}),c.waypoint("destroy")},{offset:"90%"})},SITE.utils={disableRightClick:function(){a(document).bind("contextmenu",function(a){return!1})},template:function(a,b){var c;for(c in b)a=a.replace(new RegExp("{"+c+"}","g"),b[c]);return a},checkIfMobile:function(){if(void 0!==SITE.isMobile)return SITE.isMobile;var d,e,b=navigator.userAgent.toLowerCase(),c=[{class:"iphone",regex:/iphone/},{class:"ipad",regex:/ipad/},{class:"ipod",regex:/ipod/},{class:"android",regex:/android/},{class:"bb",regex:/blackberry|bb10/},{class:"iemobile|nokia",regex:/iemobile/}];for(SITE.isMobile=!1,d=0,e=c.length;d<e;d+=1)if(c[d].regex.test(b))return a("body").addClass(c[d].class+" mobile"),SITE.isMobile=!0,SITE.mobileType=c[d].class,!0;return!1},elemFadeIn:function(a){a.stop().animate({opacity:1},function(){a.animate({opacity:1},0)})},elemFadeOut:function(a,b){a.stop().animate({opacity:b},function(){a.animate({opacity:b},0)})},getNaturalImgSize:function(a){var b=a.get(0);return b.naturalWidth&&b.naturalHeight?{width:b.naturalWidth,height:b.naturalHeight}:{width:a.width(),height:a.height()}}},SITE.url={getUrlParameters:function(){var a={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(b,c,d){a[c]=d});return a},getCustomUrlParameters:function(a){var b={};a.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(a,c,d){b[c]=d});return b},addUrlParameter:function(a,b){return a+=(a.split("?")[1]?"&":"?")+b}},SITE.utils.stickyHeader=function(b,c){this.$el=b,this.$body=a("body"),this.$win=a(window);var d={scrollHeight:64,scrollClass:"fixed-header-scroll"};this.o=a.extend(d,c)},SITE.utils.stickyHeader.prototype.init=function(){var b=this,c=function(){b.scrolled||(b.defaultHeight=b.$el.outerHeight(),b.setPositions())};b.setPadding=!a("body").hasClass("slider-active"),b.$parent=this.$el.parent(),b.isMobile=SITE.utils.checkIfMobile(),b.setPositions(),a("#logo-container img").siteOnImgLoaded({callback:c}),a(window).on("mousewheel sitescroll scroll",function(){b.isMobile||b.setPositions()}).on("resize",function(){b.scrolled||(b.defaultHeight=b.$el.outerHeight(),b.setPadding&&b.$parent.css({paddingTop:b.defaultHeight}))})},SITE.utils.stickyHeader.prototype.isScrolled=function(){return a(document).scrollTop()>5},SITE.utils.stickyHeader.prototype.setPositions=function(){var a=this,b=a.isScrolled();a.defaultHeight||(a.defaultHeight=a.$el.outerHeight()),b&&!a.scrolled?(a.scrolled=!0,a.$body.addClass(a.o.scrollClass),a.setPadding&&a.$parent.css({paddingTop:a.o.scrollHeight}),a.$win.trigger("sitestickychange")):b||!a.scrolled&&void 0!==a.scrolled||(a.scrolled=!1,a.$body.removeClass(a.o.scrollClass),a.setPadding&&a.$parent.css({paddingTop:a.defaultHeight}),a.$win.trigger("sitestickychange"))},SITE.utils.resizableImageGallery=function(b,c){this.selector=b,this.options=c,this.$parent=c.parent||a("."+SITE.masonryClass),this.$items=this.$parent.find(b),this.masonry=c.masonry},SITE.utils.resizableImageGallery.prototype.init=function(){var b=this;return b.setImageSize(),b.masonry&&b.initMasonry(),b.loadImages(),a(window).on("resize",a.proxy(b.refresh,b)),b},SITE.utils.resizableImageGallery.prototype.initMasonry=function(){var a=this;a.$parent.masonry({itemSelector:a.selector,transitionDuration:0})},SITE.utils.resizableImageGallery.prototype.loadImages=function(){var b=this;b.$parent.find("img").each(function(){a(this).siteOnImgLoaded({callback:function(){b.masonry&&b.$parent.masonry("layout"),a(this).css({opacity:1}).trigger("imgmasonryloaded")}})})},SITE.utils.resizableImageGallery.prototype.setImageSize=function(){var h,a=this,b=a.$items.eq(0),c=parseInt(b.css("marginRight"),10)+parseInt(b.css("marginLeft"),10),d=b.data("defwidth")||b.width(),e=0,f=0,g=a.$parent.width();return g=Math.floor(g-1),e=Math.floor(g/(d+c)),e<=0&&(e=1),f=g-e*(d+c),f>d/2&&(e+=1),h=1===e?g-c:Math.floor(g/e)-c,a.$items.css({width:h,height:"auto"}),h+c},SITE.utils.resizableImageGallery.prototype.refresh=function(){var a=this;a.paused||(a.setImageSize(),a.masonry&&a.$parent.masonry("layout"))},SITE.utils.resizableImageGallery.prototype.destroy=function(){var a=this;a.masonry&&a.$parent.masonry("destroy")},SITE.utils.resizableImageGallery.prototype.pause=function(){this.paused=!0},SITE.utils.resizableImageGallery.prototype.resume=function(){this.paused=!1},SITE.utils.bgCoverFallback=function(a){this.$el=a},SITE.utils.bgCoverFallback.prototype.init=function(){var d,e,b=this,c="";c=b.$el.css("backgroundImage"),b.$el.css({backgroundImage:""}),c=c.replace('url("',"").replace('")',""),d=new Image,d.src=c,e=a(d).appendTo(b.$el),b.$img=e,new SITE.utils.fullBgImage(e).init()},SITE.utils.fullBgImage=function(a){this.$img=a,this.$parent=a.parent();var b=SITE.utils.getNaturalImgSize(a);this.imgWidth=b.width,this.imgHeight=b.height},SITE.utils.fullBgImage.prototype.init=function(){var b=this;b.positionImage(),a(window).on("resize",function(){b.positionImage()})},SITE.utils.fullBgImage.prototype.positionImage=function(){var a=this,b=a.$parent.width(),c=a.$parent.height(),e=(SITE.utils.getNaturalImgSize(a.$img),a.imgWidth),f=a.imgHeight,h=(Math.round(b*f/e),{});if(b/c>e/f){h={width:"100%",height:"auto",left:0},a.$img.css(h);var i=a.$img.height(),j=i>c?-(i-c)/2:0;a.$img.css({top:j})}else{h={width:"auto",height:"100%",top:0},a.$img.css(h);var k=a.$img.width(),l=k>b?-(k-b)/2:0;a.$img.css({left:l})}},SITE.utils.supportsTransition=function(){if(void 0!==SITE.supportsTransition)return SITE.supportsTransition;var a=document.body||document.documentElement,b=a.style,c=void 0!==b.transition||void 0!==b.WebkitTransition||void 0!==b.MozTransition||void 0!==b.MsTransition||void 0!==b.OTransition;return SITE.supportsTransition=c,c},SITE.utils.fadeSlider=function(b,c){this.$el=b;var d={itemSel:".slider-container",loadingClass:"loading",leftArrowClass:"fs-left-arrow",rightArrowClass:"fs-right-arrow",autoplay:!0,showNavigation:!0,animationInterval:5e3,pauseOnHover:!0};this.o=a.extend(d,c)};var c=SITE.utils.fadeSlider.prototype;c.init=function(){var b=this;b.$items=b.$el.find(b.o.itemSel),b.itemNum=b.$items.length,b.inAnimation=!1,b.itemNum&&(b.$el.addClass(b.o.loadingClass),b.o.showNavigation&&b.itemNum>1&&b.addNavigation(),b.$el.find("img").siteOnImgLoaded({callback:function(){b.loadSlider()}})),a(window).on("resize",function(){b.doOnWindowResize()})},c.loadSlider=function(){var b=this;b.items=[],b.$items.each(function(){b.items.push({$el:a(this),height:a(this).height()})}),b.$el.removeClass(b.o.loadingClass),b.showSlide(0),b.o.autoplay&&b.setUpAutoplay()},c.addNavigation=function(){var b=this;b.$leftArrow=a("<div />",{class:b.o.leftArrowClass}).appendTo(b.$el).on("click",function(){b.doOnSlideChangeTrigger(!1)}),b.$rightArrow=a("<div />",{class:b.o.rightArrowClass}).appendTo(b.$el).on("click",function(){b.doOnSlideChangeTrigger(!0)})},c.doOnSlideChangeTrigger=function(a){var b=this,c=0;c=a?b.currentIndex<b.itemNum-1?b.currentIndex+1:0:b.currentIndex>0?b.currentIndex-1:b.itemNum-1,b.showSlide(c)},c.doOnWindowResize=function(){var a=this,b=a.items[a.currentIndex];_.each(a.items,function(a){a.height=a.$el.height()}),a.$el.css({height:b.height})},c.showSlide=function(a){var b=this,c=b.items[a];b.inAnimation||(b.inAnimation=!0,void 0!==b.currentIndex&&b.items[b.currentIndex].$el.css({zIndex:0}).animate({opacity:0}),b.$el.animate({height:c.height}),c.$el.css({zIndex:10}).animate({opacity:1},function(){b.currentIndex=a,b.inAnimation=!1}))},c.setUpAutoplay=function(){var a=this;a.o.autoplay&&(a.o.pauseOnHover&&a.$el.on("mouseenter",function(){a.pause()}).on("mouseleave",function(){a.startAnimation()}),a.startAnimation())},c.startAnimation=function(){var a=this;a.timer=window.setInterval(function(){a.doOnSlideChangeTrigger(!0)},a.o.animationInterval)},c.pause=function(){var a=this;window.clearInterval(a.timer),a.timer=-1}}(jQuery);
